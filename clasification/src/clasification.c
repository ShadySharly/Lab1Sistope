/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////// DIRECTIVES /////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
# include <stdlib.h>
# include <stdio.h>
# include <unistd.h>
# include <string.h>

# include "../../structs.h"
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////// FUNCTIONS //////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// - INPUTS:
// - OUTPUTS:
// - DESCRIPTION:

void clasification (Image* image, int threshold) {

    int n, m, current_pixel, black_pixels_percentage;
    int total_pixels = (image -> height) * (image -> width);
    int black_pixels = 0;

    for (n = 0; n < (image -> height); n++) {

        for (m = 0; m < (image -> width); m++) {
            current_pixel = image -> matrix[n][m];

            if (current_pixel == 0)
                black_pixels++;
        }
    }

    black_pixels_percentage = (black_pixels * 100) / total_pixels;

    if (black_pixels_percentage >= threshold)
        image -> nearly_black = 1;
    
    image -> nearly_black = 0;
}

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////